# ============================================
# SecureVault - Environment Configuration Template
# ============================================
# 
# This is a template file showing all required environment variables.
# 
# USAGE:
# - For production: Use .env.production as base (already configured)
# - For staging: Use .env.staging as base (already configured)
# - For local dev: Copy this to .env and customize
#
# SECURITY: Never commit actual secrets to Git!
# ============================================

# ============================================
# ENVIRONMENT IDENTIFICATION
# ============================================
# Options: production, staging, development
ENV=production

# Suffix for container names (empty for production, -staging for staging)
ENV_SUFFIX=

# ============================================
# CONTAINER NAMING
# ============================================
# Prefix for all containers (securevault or securevault-staging)
CONTAINER_PREFIX=securevault

# ============================================
# DATABASE CONFIGURATION
# ============================================
POSTGRES_DB=securevault
POSTGRES_USER=securevault
POSTGRES_PASSWORD=${DB_PASSWORD}

# CRITICAL: Generate with: openssl rand -hex 32
DB_PASSWORD=changeme_generate_with_openssl_rand_hex_32

# Database connection URL (auto-constructed from above)
DB_HOST=postgres
DATABASE_URL=postgresql://securevault:${DB_PASSWORD}@postgres:5432/securevault

# ============================================
# SECURITY SECRETS (CRITICAL!)
# ============================================
# Generate with: openssl rand -hex 32
JWT_SECRET=changeme_generate_with_openssl_rand_hex_32
ENCRYPTION_KEY=changeme_generate_with_openssl_rand_hex_32

# ============================================
# APPLICATION CONFIGURATION
# ============================================
NODE_ENV=production
PORT=3001
BCRYPT_ROUNDS=12
JWT_EXPIRES_IN=24h

# ============================================
# DOMAIN CONFIGURATION
# ============================================
# Frontend URL (with https://)
FRONTEND_URL=https://vault.freijstack.com

# Traefik routing hosts (without https://)
BACKEND_HOST=vault-api.freijstack.com
FRONTEND_HOST=vault.freijstack.com

# API URL for frontend build (with https:// and /api)
API_URL=https://vault-api.freijstack.com/api

# ============================================
# DOCKER NETWORK NAMES
# ============================================
APP_NETWORK=securevault_network
EXTERNAL_NETWORK=web

# ============================================
# DOCKER VOLUME NAMES
# ============================================
POSTGRES_VOLUME=securevault_postgres_data

# ============================================
# TRAEFIK ROUTER NAMES
# ============================================
BACKEND_ROUTER=securevault-backend
FRONTEND_ROUTER=securevault-frontend
CORS_MIDDLEWARE=securevault-cors

# ============================================
# DEPLOYMENT GUIDE
# ============================================
#
# PRODUCTION (.env.production):
#   ENV=production
#   ENV_SUFFIX=
#   CONTAINER_PREFIX=securevault
#   Domains: vault.freijstack.com, vault-api.freijstack.com
#
# STAGING (.env.staging):
#   ENV=staging
#   ENV_SUFFIX=-staging
#   CONTAINER_PREFIX=securevault-staging
#   Domains: vault-staging.freijstack.com, vault-api-staging.freijstack.com
#
# CI/CD WORKFLOW:
#   1. Workflow copies appropriate .env.production or .env.staging to .env
#   2. Injects secrets from VPS .env file (/srv/www/securevault/.env)
#   3. Runs: docker compose up -d --build
#   4. Single docker-compose.yml works for both environments

