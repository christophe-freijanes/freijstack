# Harbor Container Registry - Environment Template
# Copy this file to .env and fill in your values

# Environment (production/staging)
ENV=production
COMPOSE_PROJECT_NAME=harbor

# Container & Network Configuration
CONTAINER_PREFIX=harbor
NETWORK_NAME=harbor_network

# Domain Configuration
REGISTRY_DOMAIN=registry.freijstack.com

# ============================================
# Security Secrets - MUST CHANGE!
# ============================================
# Generate secure random secrets with:
# openssl rand -hex 32

# PostgreSQL Database Password
DB_PASSWORD=changeme_postgres_password_32_bytes

# Harbor Admin Password (web UI login)
HARBOR_ADMIN_PASSWORD=changeme_admin_password

# Harbor Core Secret (internal API authentication)
CORE_SECRET=changeme_core_secret_32_bytes_hex_here

# Job Service Secret (background jobs authentication)
JOBSERVICE_SECRET=changeme_jobservice_secret_32_bytes_hex

# Registry HTTP Secret (Docker registry internal auth)
REGISTRY_HTTP_SECRET=changeme_registry_http_secret_32_bytes

# ============================================
# Harbor Admin Configuration
# ============================================
HARBOR_ADMIN_USERNAME=admin
HARBOR_ADMIN_EMAIL=admin@freijstack.com

# ============================================
# PostgreSQL Configuration
# ============================================
POSTGRES_DB=registry
POSTGRES_USER=postgres

# ============================================
# Trivy Vulnerability Scanner
# ============================================
# Skip database updates (set to true for offline environments)
TRIVY_SKIP_UPDATE=false

# Severity levels to scan for
TRIVY_SEVERITY=UNKNOWN,LOW,MEDIUM,HIGH,CRITICAL

# ============================================
# Storage Backend Configuration
# ============================================
# Options: filesystem, s3, azure, gcs, oss, swift
STORAGE_BACKEND=filesystem

# Amazon S3 Configuration (optional)
# Uncomment and configure if using S3:
# AWS_ACCESS_KEY_ID=your_aws_access_key_id
# AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
# AWS_REGION=eu-west-3
# S3_BUCKET=harbor-registry-bucket

# Azure Blob Storage Configuration (optional)
# AZURE_ACCOUNT_NAME=your_storage_account
# AZURE_ACCOUNT_KEY=your_storage_key
# AZURE_CONTAINER=harbor-registry

# Google Cloud Storage Configuration (optional)
# GCS_BUCKET=harbor-registry-bucket
# GCS_KEYFILE=/path/to/keyfile.json

# ============================================
# Advanced Configuration
# ============================================
# Log level (debug, info, warning, error, fatal)
LOG_LEVEL=info

# Token expiration time (minutes)
TOKEN_EXPIRATION=30

# Enable/disable robot accounts
ROBOT_TOKEN_DURATION=30

# Quota storage limit per project (GB, 0 = unlimited)
QUOTA_PER_PROJECT_ENABLE=true
QUOTA_PER_PROJECT_SIZE=100

# ============================================
# NOTES
# ============================================
# 1. NEVER commit .env with real secrets to Git
# 2. Generate all secrets before first run
# 3. Store secrets securely (1Password, Vault, etc.)
# 4. Default admin username: admin
# 5. Access web UI: https://registry.freijstack.com
# 6. Docker login: docker login registry.freijstack.com
